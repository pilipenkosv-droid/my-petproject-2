/**
 * Справочные данные для проверки форматирования
 * На основе методических указаний ТГУ и ГОСТов
 */

/** 
 * Допустимые сокращения (Приложение Е методички ТГУ)
 * ГОСТ Р 7.0.12-2011
 */
export const ALLOWED_ABBREVIATIONS = {
  // Единицы времени
  timeUnits: {
    с: "секунда",
    мин: "минута",
    ч: "час",
    сут: "сутки",
    "мес.": "месяц",
    "кв.": "квартал",
    "г.": "год",
    "гг.": "годы",
    "в.": "век",
    "вв.": "века",
    "н. э.": "нашей эры",
  },
  
  // Единицы длины
  lengthUnits: {
    мм: "миллиметр",
    см: "сантиметр",
    дм: "дециметр",
    м: "метр",
    км: "километр",
  },
  
  // Единицы площади
  areaUnits: {
    а: "ар",
    га: "гектар",
  },
  
  // Единицы объема
  volumeUnits: {
    мл: "миллилитр",
    дл: "децилитр",
    л: "литр",
    гл: "гектолитр",
  },
  
  // Единицы массы
  massUnits: {
    мг: "миллиграмм",
    г: "грамм",
    кг: "килограмм",
    ц: "центнер",
    т: "тонна",
  },
  
  // Общие сокращения
  general: {
    "с.": "страница",
    "л.": "лист",
    "гл.": "глава",
    "т.": "том",
    "экз.": "экземпляр",
    "к.": "карта",
  },
  
  // Географические
  geographic: {
    "оз.": "озеро",
    "о.": "остров",
    "г.": "город",
    "д.": "деревня",
    "с.": "село",
    "ст-ца": "станица",
    "р-н": "район",
    "обл.": "область",
    "авт.": "автономный",
    "р.": "река",
  },
  
  // Финансовые
  financial: {
    "ц.": "цена",
    "к.": "копейка",
    "коп.": "копейка (в таблицах)",
    "р.": "рубль",
    "руб.": "рубль (в таблицах)",
    "т. р.": "тысяч рублей",
    "млн. р.": "миллионов рублей",
    "млрд. р.": "миллиардов рублей",
  },
  
  // Ученые степени и звания
  academic: {
    "канд. наук": "кандидат наук",
    "д-р наук": "доктор наук",
    "доц.": "доцент",
    "проф.": "профессор",
    "акад.": "академик",
  },
};

/**
 * Запрещенные графические сокращения (п.5.9.3 методички ТГУ)
 */
export const PROHIBITED_ABBREVIATIONS = [
  "т.д.",  // так далее
  "т.п.",  // тому подобное
  "т.е.",  // то есть
  "т.к.",  // так как
  "т.н.",  // так называемый
  "т.о.",  // таким образом
  "т.с.",  // так сказать
  "т.ч.",  // так что
  "г.о.",  // главным образом
  "д.б.",  // должно быть
  "м.б.",  // может быть
  "и др.", // и другие
  "н/д",   // нет данных
];

/**
 * Единицы СИ (Приложение Ж методички ТГУ)
 * ГОСТ 8.417-2002
 */
export const SI_UNITS = {
  // Основные единицы СИ (Таблица Ж.1)
  base: {
    м: { name: "метр", quantity: "Длина" },
    кг: { name: "килограмм", quantity: "Масса" },
    с: { name: "секунда", quantity: "Время" },
    А: { name: "ампер", quantity: "Электрический ток" },
    К: { name: "кельвин", quantity: "Термодинамическая температура" },
    моль: { name: "моль", quantity: "Количество вещества" },
    кд: { name: "кандела", quantity: "Сила света" },
  },
  
  // Производные единицы с специальными наименованиями (Таблица Ж.3)
  derived: {
    рад: { name: "радиан", quantity: "Плоский угол" },
    ср: { name: "стерадиан", quantity: "Телесный угол" },
    Гц: { name: "герц", quantity: "Частота" },
    Н: { name: "ньютон", quantity: "Сила" },
    Па: { name: "паскаль", quantity: "Давление" },
    Дж: { name: "джоуль", quantity: "Энергия, работа" },
    Вт: { name: "ватт", quantity: "Мощность" },
    Кл: { name: "кулон", quantity: "Электрический заряд" },
    В: { name: "вольт", quantity: "Электрическое напряжение" },
    Ф: { name: "фарад", quantity: "Электрическая емкость" },
    Ом: { name: "ом", quantity: "Электрическое сопротивление" },
    См: { name: "сименс", quantity: "Электрическая проводимость" },
    Вб: { name: "вебер", quantity: "Магнитный поток" },
    Тл: { name: "тесла", quantity: "Магнитная индукция" },
    Гн: { name: "генри", quantity: "Индуктивность" },
    "°C": { name: "градус Цельсия", quantity: "Температура" },
    лм: { name: "люмен", quantity: "Световой поток" },
    лк: { name: "люкс", quantity: "Освещенность" },
    Бк: { name: "беккерель", quantity: "Активность радионуклида" },
    Гр: { name: "грей", quantity: "Поглощенная доза" },
    Зв: { name: "зиверт", quantity: "Эквивалентная доза" },
    кат: { name: "катал", quantity: "Активность катализатора" },
  },
  
  // Внесистемные единицы, допустимые к применению (Таблица Ж.5)
  nonSI: {
    т: { name: "тонна", quantity: "Масса" },
    "а.е.м.": { name: "атомная единица массы", quantity: "Масса" },
    мин: { name: "минута", quantity: "Время" },
    ч: { name: "час", quantity: "Время" },
    сут: { name: "сутки", quantity: "Время" },
    "°": { name: "градус", quantity: "Плоский угол" },
    "'": { name: "минута", quantity: "Плоский угол" },
    '"': { name: "секунда", quantity: "Плоский угол" },
    град: { name: "град (гон)", quantity: "Плоский угол" },
    л: { name: "литр", quantity: "Объем" },
    "а.е.": { name: "астрономическая единица", quantity: "Длина" },
    "св. год": { name: "световой год", quantity: "Длина" },
    пк: { name: "парсек", quantity: "Длина" },
    дптр: { name: "диоптрия", quantity: "Оптическая сила" },
    га: { name: "гектар", quantity: "Площадь" },
    эВ: { name: "электрон-вольт", quantity: "Энергия" },
    кВтч: { name: "киловатт-час", quantity: "Энергия" },
    ВА: { name: "вольт-ампер", quantity: "Полная мощность" },
    вар: { name: "вар", quantity: "Реактивная мощность" },
    Ач: { name: "ампер-час", quantity: "Электрический заряд" },
  },
};

/**
 * Приставки СИ
 */
export const SI_PREFIXES = {
  // Большие величины
  да: { factor: 1e1, name: "дека" },
  г: { factor: 1e2, name: "гекто" },
  к: { factor: 1e3, name: "кило" },
  М: { factor: 1e6, name: "мега" },
  Г: { factor: 1e9, name: "гига" },
  Т: { factor: 1e12, name: "тера" },
  П: { factor: 1e15, name: "пета" },
  Э: { factor: 1e18, name: "экса" },
  
  // Малые величины
  д: { factor: 1e-1, name: "деци" },
  с: { factor: 1e-2, name: "санти" },
  м: { factor: 1e-3, name: "милли" },
  мк: { factor: 1e-6, name: "микро" },
  н: { factor: 1e-9, name: "нано" },
  п: { factor: 1e-12, name: "пико" },
  ф: { factor: 1e-15, name: "фемто" },
  а: { factor: 1e-18, name: "атто" },
};

/**
 * Исключения: буквы русского алфавита, исключаемые из нумерации
 * (п.5.3, п.6.4.4 методички ТГУ)
 */
export const EXCLUDED_RUSSIAN_LETTERS = ["Ё", "З", "Й", "О", "Ч", "Ь", "Ы", "Ъ"];
export const EXCLUDED_LATIN_LETTERS = ["I", "O"];

/**
 * Допустимые буквы для многоуровневой нумерации списков
 */
export const LIST_NUMBERING_LETTERS = {
  russian: "абвгдежиклмнпрстуфхцшщэюя".split(""),
  latin: "abcdefghjklmnpqrstuvwxyz".split(""),
};

/**
 * Символы, требующие неразрывного пробела (п.4.3.5, п.5.10.2)
 */
export const NON_BREAKING_SPACE_RULES = {
  // Перед единицами измерения
  beforeUnits: true,
  // После инициалов
  afterInitials: /([А-ЯЁ]\.) ([А-ЯЁ]\.) ([А-ЯЁ][а-яё]+)/g,
  // Между числом и единицей
  betweenNumberAndUnit: /(\d+)\s+(мм|см|дм|м|км|кг|г|мг|л|мл|с|мин|ч|%|°C|К|А|В|Вт|Гц|Па)/g,
  // В датах
  inDates: /(\d{4})\s+г\./g,
  // Между аббревиатурой и названием организации
  beforeOrgName: /(ООО|ЗАО|ПАО|АО|ИП)\s+/g,
};

/**
 * Паттерны для проверки корректности оформления
 */
export const VALIDATION_PATTERNS = {
  // Угловые кавычки (п.4.3.4)
  angularQuotes: /«[^»]*»/g,
  straightQuotes: /["'][^"']*["']/g,
  
  // Тире vs дефис (п.4.3.6)
  enDash: /–/g,
  emDash: /—/g, // Запрещено
  hyphen: /-/g,
  
  // Неразрывный пробел
  nonBreakingSpace: /\u00A0/g,
  
  // Запрещенные символы
  asteriskAsMultiply: /\*/g, // Запрещено использовать как умножение
  
  // Инициалы
  initials: /[А-ЯЁ]\.\s*[А-ЯЁ]\.\s*[А-ЯЁ][а-яё]+/g,
  
  // Числа с единицами
  numberWithUnit: /\d+\s*[а-яА-Яa-zA-Z°%]+/g,
};
